<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Calendar | Memofy</title>
	<link rel="icon" type="image/png" href="/images/memofy-logo.png">
	<link rel="stylesheet" href="/css/secretary-dashboard.css">
	<link rel="stylesheet" href="/css/sec-topbar.css">
	<link rel="stylesheet" href="/css/sec-nav.css">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/css/calendar.css">
</head>
<body>
	<div class="dashboard-container">
		<%- include('../components/sec-nav'); %>
		<main class="main-content">
			<%- include('../components/sec-topbar') %>

			<div class="calendar-page">
				<aside class="calendar-sidebar">
					<div class="sidebar-section">
						<h3>Mini Calendar</h3>
						<input type="date" id="miniCalendar" style="width:100%; padding:.5rem; border:1px solid #e2e8f0; border-radius:6px;" />
					</div>
					<div class="sidebar-section">
						<h3>My Calendars</h3>
						<label><input type="checkbox" id="filterAll" checked> All</label><br/>
						<label><input type="checkbox" id="filterMine" checked> My Events</label><br/>
						<label><input type="checkbox" id="filterDepartment" checked> Department</label>
					</div>
					<div class="sidebar-section">
						<h3>Categories</h3>
						<div><span class="category-dot cat-today"></span>Today</div>
						<div><span class="category-dot cat-urgent"></span>Urgent</div>
						<div><span class="category-dot cat-standard"></span>Standard</div>
					</div>
					<div class="sidebar-section">
						<h3>Profile</h3>
						<div class="profile-card">
							<img src="<%= user.profilePicture || '/images/memofy-logo.png' %>" alt="Profile" />
							<div>
								<div style="font-weight:600"><%= (user.firstName && user.lastName) ? user.firstName + ' ' + user.lastName : user.name || 'User' %></div>
								<div style="font-size:.85rem; color:#64748b"><%= user.email || 'email@example.com' %></div>
							</div>
						</div>
					</div>
				</aside>

				<section class="calendar-main">
					<div class="calendar-toolbar">
						<button id="addMemoBtn" class="add-btn">Add Memo</button>
						<div class="view-toggle">
							<button data-view="dayGridMonth" class="active">Month</button>
							<button data-view="timeGridWeek">Week</button>
							<button data-view="timeGridDay">Day</button>
						</div>
					</div>

					<div id="calendar"></div>
				</section>
			</div>
		</main>
	</div>

	<!-- Add/Edit Memo Modal -->
	<div id="memoModal" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h2 id="memoModalTitle">Add Memo</h2>
				<button class="close-modal" id="closeMemoModal" style="border:none; background:none; font-size:1.5rem; cursor:pointer">&times;</button>
			</div>
			<div class="modal-body">
				<form id="memoForm">
					<div class="form-group">
						<label for="memoTitle">Title of Memo</label>
						<input type="text" id="memoTitle" required />
					</div>
					<div class="form-group" style="display:grid; grid-template-columns: 1fr 1fr; gap:.5rem;">
						<div>
							<label for="memoDate">Date</label>
							<input type="date" id="memoDate" required />
						</div>
						<div>
							<label for="memoCategory">Category</label>
							<select id="memoCategory">
								<option value="standard">Standard</option>
								<option value="today">Today</option>
								<option value="urgent">Urgent</option>
							</select>
						</div>
					</div>
					<div class="form-group" style="display:grid; grid-template-columns: 1fr 1fr; gap:.5rem;">
						<div>
							<label for="memoStart">Start Time</label>
							<input type="time" id="memoStart" required />
						</div>
						<div>
							<label for="memoEnd">End Time</label>
							<input type="time" id="memoEnd" required />
						</div>
					</div>
					<div class="form-group">
						<label for="memoParticipants">Participants / Recipients</label>
						<input type="text" id="memoParticipants" placeholder="e.g., All Faculty; it@buksu.edu" />
					</div>
					<div class="form-group">
						<label for="memoDesc">Description / Notes</label>
						<textarea id="memoDesc" rows="4"></textarea>
					</div>
					<div class="form-actions">
						<button type="button" class="btn-secondary" id="cancelMemo">Cancel</button>
						<button type="submit" class="btn-primary">Save</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<script src="https://unpkg.com/lucide@latest"></script>
	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
	<script src="/js/calendar.js"></script>
	<script>lucide.createIcons();</script>
</body>
</html>


